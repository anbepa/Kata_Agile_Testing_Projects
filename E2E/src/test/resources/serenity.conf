# Default configuration for local execution
webdriver {
  driver = chrome
  autodownload = true
  capabilities {
    "goog:chromeOptions" {
      args = [ "headless", "disable-gpu", "window-size=1920,1080", "no-sandbox", "disable-dev-shm-usage", "remote-allow-origins=*" ]
    }
  }
}

# Environment-specific configurations
environments {
  default {
    webdriver.driver = chrome
  }
  
  # Configuration for CI running on BrowserStack
  browserstack {
    webdriver {
      driver = remote
      # Auth credentials directly in URL to ensure proper authentication
      remote.url = "https://__BROWSERSTACK_USER__:__BROWSERSTACK_KEY__@hub.browserstack.com/wd/hub"
      capabilities {
        "goog:chromeOptions" {
          args = [ "headless", "disable-gpu", "window-size=1920,1080", "no-sandbox", "disable-dev-shm-usage", "remote-allow-origins=*" ]
        }
      }
    }
  }
}

# Cucumber settings
cucumber {
  glue = "com.example.stepdefinitions"
  features = "classpath:features"
}